<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RWD é¸å–®é¡¯ç¤ºå…§å®¹</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            }
        };
    </script>
    <script type="text/javascript" id="MathJax-script" async
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body>

    <!-- æ‰‹æ©Ÿç‰ˆé¸å–®æŒ‰éˆ• -->
    <button class="menu-toggle" onclick="toggleSidebar()">â˜° é¸å–®</button>

    <!-- å·¦å´é¸å–® -->
    <div class="sidebar" id="sidebar">
        <button class="dropdown-btn" onclick="toggleDropdown()">â˜° é¸å–®</button>
        <div class="dropdown-menu" id="dropdownMenu">
            <button onclick="showContent('å…§å®¹ A')">
                å…§å®¹ A
            </button>
            <button onclick="showContent('å…§å®¹ B')">
                å…§å®¹ B
            </button>
            <button onclick="showContent('å…§å®¹ C')">
                å…§å®¹ C
            </button>
            <button onclick="showContent('å…§å®¹ D')">
                å…§å®¹ D
            </button>
            <button onclick="showContent('å…§å®¹ E')">
                å…§å®¹ E
            </button>
        </div>
    </div>

    <!-- å³å´é¡¯ç¤ºå…§å®¹ -->
    <div class="content" id="content-display">
        <h2>è«‹é¸æ“‡ä¸€å€‹é¸é …</h2>
    </div>

    <script>
        function toggleSidebar() {
            var sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('show');
        }

        function toggleDropdown() {
            var menu = document.getElementById('dropdownMenu');
            if (menu.style.display === "flex") {
                menu.style.display = "none";
            } else {
                menu.style.display = "flex";
            }
        }

        function showContent(text) {
            var contentDisplay = document.getElementById('content-display');

            if (text === 'å…§å®¹ A') {
                contentDisplay.innerHTML = `
                    <div id="introText">
                        <h1>æ­¡è¿ä¾†åˆ°æˆ‘çš„ç¶²ç«™ï¼</h1>
                        <p>é€™æ˜¯æˆ‘çš„ GitHub Pages éƒ¨ç½²ç¶²ç«™ã€‚</p>
                        <div class="profile-card">
                            <img src="photo.jpg" alt="å€‹äººç…§ç‰‡" class="profile-img" style="width:150px; border-radius:10px;">
                            <h2>æ—èŠŠè“‰</h2>
                            <p>é›»æ©Ÿç¢©ä¸€ 11378002</p>
                            <p>å¯¦é©—å®¤ç¶²ç«™: <a href="https://sites.google.com/view/lab816" target="_blank">é»æ­¤æŸ¥çœ‹</a></p>
                            <p>ç ”è¨æœƒè«–æ–‡: <a href="https://ieeexplore.ieee.org/document/10773309" target="_blank">é»æ­¤æŸ¥çœ‹</a></p>
                        </div>
                        <h3>ç„¡äººæ©ŸåŸºæœ¬å…¬å¼</h3>
                        <table align="center">
                            <thead>
                                <tr>
                                    <th>å…§è¿´è·¯å…¬å¼</th>
                                    <th>å¤–è¿´è·¯å…¬å¼</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <span data-latex="\\dot{q} = \\frac{1}{2} q \\otimes \\begin{bmatrix} 0 \\\\ \\boldsymbol{\\omega} \\end{bmatrix}"></span>
                                        <br>
                                        <span data-latex="\\dot{\\boldsymbol{\\omega}} = J^{-1} \\left[ \\boldsymbol{\\tau} - \\boldsymbol{\\omega} \\times (J \\boldsymbol{\\omega}) \\right]"></span>
                                    </td>
                                    <td>
                                        <span data-latex="\\dot{\\boldsymbol{x}} = \\boldsymbol{v}, \\quad \\boldsymbol{x} \\in \\mathbb{R}^3, \\quad \\boldsymbol{v} \\in \\mathbb{R}^3"></span>
                                        <br>
                                        <span data-latex="m\\dot{\\boldsymbol{v}} = mg\\boldsymbol{e}_3 - f\\boldsymbol{b}_3, \\quad f \\in \\mathbb{R}^+, \\quad \\boldsymbol{b}_3 \\in \\mathbb{R}^3"></span>
                                        <br>
                                        <span data-latex="\\boldsymbol{e}_3 = \\begin{bmatrix} 0 \\\\ 0 \\\\ 1 \\end{bmatrix}^T"></span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `;

                // è§£æ data-latex å…§çš„ LaTeX å…¬å¼
                document.querySelectorAll("[data-latex]").forEach(el => {
                    el.innerHTML = `\\[ ${el.getAttribute("data-latex")} \\]`;
                });

                // MathJax é‡æ–°è§£æå…¬å¼
                if (window.MathJax && MathJax.typeset) {
                    MathJax.typeset();
                } else {
                    console.warn("MathJax å°šæœªè¼‰å…¥ï¼Œè«‹ç¨å€™å†è©¦ã€‚");
                }
            }else if (text === 'å…§å®¹ B') {
                contentDisplay.innerHTML = `
                    <div id="timer">10</div>
                    <button id="startBtn">é–‹å§‹</button>
                    <button id="stopBtn">åœæ­¢</button>
                    <button id="bigBtn" class="center-button" disabled>é»æˆ‘ï¼</button>
                    <style>
                        #timer { font-size: 2em; margin: 20px; text-align: center; }
                        .center-button {
                            width: 120px; height: 120px; border-radius: 50%;
                            background-color: red; color: white; font-size: 20px;
                            border: none; cursor: pointer; position: absolute;
                            top: 50%; left: 50%; transform: translate(-50%, -50%);
                        }
                        #startBtn, #stopBtn { margin: 10px; padding: 10px 20px; font-size: 16px; }
                    </style>
                `;
                
                let countdown;
                let seconds = 10;
                let clickCount = 0;
                let gameRunning = false;

                alert("éŠæˆ²è¦å‰‡ä»‹ç´¹ï¼š\nè«‹åœ¨åç§’å…§ï¼ŒæŒ‰ä¸­é–“çš„æŒ‰éˆ•ã€‚");

                document.getElementById("startBtn").addEventListener("click", function () {
                    clearInterval(countdown);
                    seconds = 10;
                    clickCount = 0;
                    gameRunning = true;

                    document.getElementById("timer").innerText = seconds;
                    document.getElementById("bigBtn").disabled = false;

                    countdown = setInterval(function () {
                        seconds--;
                        document.getElementById("timer").innerText = seconds;

                        if (seconds <= 0) {
                            clearInterval(countdown);
                            gameRunning = false;
                            document.getElementById("bigBtn").disabled = true;
                            alert(`æ™‚é–“åˆ°ï¼ä½ æŒ‰äº† ${clickCount} æ¬¡`);
                        }
                    }, 1000);
                });

                document.getElementById("stopBtn").addEventListener("click", function () {
                    clearInterval(countdown);
                    gameRunning = false;
                    document.getElementById("bigBtn").disabled = true;
                });

                document.getElementById("bigBtn").addEventListener("click", function () {
                    if (gameRunning) {
                        clickCount++;
                    }
                });
            } else if (text === 'å…§å®¹ C') {
                contentDisplay.innerHTML = "<h2>é€™æ˜¯å…§å®¹ C</h2>";
            } else if (text === 'å…§å®¹ D') {
                contentDisplay.innerHTML = "<h2>é€™æ˜¯å…§å®¹ D</h2>";
            } else if (text === 'å…§å®¹ E') {
                contentDisplay.innerHTML = "<h2>é€™æ˜¯å…§å®¹ E</h2>";
            } 
            else {
                contentDisplay.innerHTML = "<h2>" + text + "</h2>";
            }
            // ğŸ“Œ å¦‚æœæ˜¯æ‰‹æ©Ÿç‰ˆï¼Œé»æ“Šé¸å–®å¾Œè‡ªå‹•æ”¶å›
            if (window.innerWidth <= 768) {
                toggleSidebar();
            }
        }
    </script>

</body>

</html>